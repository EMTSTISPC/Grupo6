//codigo utilizado para dezplazar el auto mediante conexion bluetooth
#include "BluetoothSerial.h"//libreria bluetooth 

BluetoothSerial SerialBT;

int received;//guarda el parametro recibido por la conexion bluetooth

const int MD1 = 12; //motor derecho 1
const int MD2 = 14; //motor derecho 2
const int MI1 = 27; //motor izquierdo 1
const int MI2 = 26; //motor izquierdo 2

void setup() {
  Serial.begin(115200);
  SerialBT.begin("ESP32"); //nombre con el que se identifica la conexion del bluetooth del esp32
  pinMode(MD1, OUTPUT); 
  pinMode(MD2, OUTPUT);
  pinMode(MI1, OUTPUT);
  pinMode(MI2, OUTPUT);
}

void Adelante(){
      //metodo que mueve el auto hacia adelante
      digitalWrite(MD1,HIGH);//MOVE FRONT
      digitalWrite(MD2,LOW); //MOVE BACK
      //motor izquierdo
      digitalWrite(MI1,LOW);//MOVE BACK
      digitalWrite(MI2,HIGH);//MOVE FRONT
}
void Reversa(){
      //metodo que mueve el auto en reversa
      digitalWrite(MD1,LOW);
      digitalWrite(MD2,HIGH);
      digitalWrite(MI1,HIGH);
      digitalWrite(MI2,LOW);
}
void Izquierda(){
      digitalWrite(MD1,HIGH);
      digitalWrite(MD2,LOW);
      digitalWrite(MI1,HIGH);
      digitalWrite(MI2,LOW);
}
void Derecha(){
      digitalWrite(MD1,LOW);
      digitalWrite(MD2,HIGH);
      digitalWrite(MI1,LOW);
      digitalWrite(MI2,HIGH);
}
void Parar(){
      //metodo que detiene los 4 motores del auto
      digitalWrite(MD1,LOW); 
      digitalWrite(MD2,LOW);
      digitalWrite(MI1,LOW); 
      digitalWrite(MI2,LOW); 
}
void loop() {
   

  
  if (SerialBT.available()) {//si hay algo que leer
    received =SerialBT.read();//lee lo recibido por bluetooth
    ;    
    
    if(received == '1')//si recibe un 1 llama al metodo Adelante()
    {
      Adelante();
       
    }
    if(received == '2')//si recibe un 1 llama al metodo Reversa()
    {
 
      Reversa(); 
    }         
     if(received == '3')//si recibe un 1 llama al metodo Izquierda()
    {

      Izquierda();
    }        
    if(received == '4')//si recibe un 1 llama al metodo Derecha()
    {

      Derecha(); 
    }
    if(received == '5')//si recibe un 1 llama al metodo Parar()
    {
      Parar();
    }
  }
  delay(20);
}